module.exports=function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=7)}([function(e,n){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,n){e.exports=require("@babel/runtime/regenerator")},function(e,n){e.exports=require("@babel/runtime/helpers/toArray")},function(e,n){var r,t,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{t="function"==typeof clearTimeout?clearTimeout:c}catch(e){t=c}}();var s,u=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var n=u.length;n;){for(s=u,u=[];++f<n;)s&&s[f].run();f=-1,n=u.length}s=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===c||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function h(e,n){this.fun=e,this.array=n}function m(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];u.push(new h(e,n)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(e,n){e.exports=require("fs")},function(e,n,r){(function(e){var n=r(8),t=r(9),o=r(16);n.command("new <name>").action(t),n.command("build type [args...]").action(o),n.parse(e.argv)}).call(this,r(3))},function(e,n){e.exports=require("commander")},function(e,n,r){"use strict";r.r(n),function(e,n,t){var o=r(1),i=r.n(o),c=r(4),a=r.n(c),s=r(6).promises,u=r(10).promisify(r(11).exec),l=r(12).ncp,f=r(13),p=r(14),d=new p.Bar({},p.Presets.shades_classic);t.exports=function(){var t=a()(i.a.mark((function t(o){var c,p,h,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Starting..."),d.start(100,25),t.next=4,u('npx expo init "'.concat(o,'" --template bare-minimum'));case 4:return d.update(50),t.next=7,u('cd "'.concat(o,'" && npm install nodemon webpack webpack-cli concurrently babel-loader babel-plugin-named-asset-import @expo/webpack-config --save-dev && npm install socket.io express formidable https://github.com/Joshua-Miles/triframe.git'));case 7:return c=f.join(e.cwd(),o,"package.json"),(p=r(15)(c)).scripts={"dev-api":'concurrently "npx webpack --watch --config api.config.js"  "nodemon ./dist/index.js --watch ./dist/index.js"',"dev-app":"expo start --web","dev-android":"react-native run-android","dev-ios":"react-native run-ios"},t.next=12,s.writeFile(c,JSON.stringify(p,null,2));case 12:return h=f.join(e.cwd(),o,".gitignore"),t.next=15,s.readFile(h);case 15:return m=t.sent,t.next=18,s.writeFile(h,"".concat(m,"\ndist\n.sessions\n.uploads"));case 18:return d.update(75),t.next=21,Promise.all(["api.config.js","dist","tsconfig.json","App.js","Api.js","views","models","webpack.config.js"].map(function(){var r=a()(i.a.mark((function r(t){var c,a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=f.join(n,"__assets__",t),a=f.join(e.cwd(),o,t),r.next=4,new Promise((function(e){return l(c,a,e)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()));case 21:d.update(100),d.stop(),console.log("Install Completed");case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}.call(this,r(3),"/",r(5)(e))},function(e,n){e.exports=require("util")},function(e,n){e.exports=require("child_process")},function(e,n){e.exports=require("ncp")},function(e,n,r){(function(e){function r(e,n){for(var r=0,t=e.length-1;t>=0;t--){var o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(n)for(;r--;r)e.unshift("..");return e}function t(e,n){if(e.filter)return e.filter(n);for(var r=[],t=0;t<e.length;t++)n(e[t],t,e)&&r.push(e[t]);return r}n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var c=i>=0?arguments[i]:e.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(n=c+"/"+n,o="/"===c.charAt(0))}return(o?"/":"")+(n=r(t(n.split("/"),(function(e){return!!e})),!o).join("/"))||"."},n.normalize=function(e){var i=n.isAbsolute(e),c="/"===o(e,-1);return(e=r(t(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&c&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(t(e,(function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,r){function t(e){for(var n=0;n<e.length&&""===e[n];n++);for(var r=e.length-1;r>=0&&""===e[r];r--);return n>r?[]:e.slice(n,r-n+1)}e=n.resolve(e).substr(1),r=n.resolve(r).substr(1);for(var o=t(e.split("/")),i=t(r.split("/")),c=Math.min(o.length,i.length),a=c,s=0;s<c;s++)if(o[s]!==i[s]){a=s;break}var u=[];for(s=a;s<o.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,t=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(n=e.charCodeAt(i))){if(!o){t=i;break}}else o=!1;return-1===t?r?"/":".":r&&1===t?"/":e.slice(0,t)},n.basename=function(e,n){var r=function(e){"string"!=typeof e&&(e+="");var n,r=0,t=-1,o=!0;for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){r=n+1;break}}else-1===t&&(o=!1,t=n+1);return-1===t?"":e.slice(r,t)}(e);return n&&r.substr(-1*n.length)===n&&(r=r.substr(0,r.length-n.length)),r},n.extname=function(e){"string"!=typeof e&&(e+="");for(var n=-1,r=0,t=-1,o=!0,i=0,c=e.length-1;c>=0;--c){var a=e.charCodeAt(c);if(47!==a)-1===t&&(o=!1,t=c+1),46===a?-1===n?n=c:1!==i&&(i=1):-1!==n&&(i=-1);else if(!o){r=c+1;break}}return-1===n||-1===t||0===i||1===i&&n===t-1&&n===r+1?"":e.slice(n,t)};var o="b"==="ab".substr(-1)?function(e,n,r){return e.substr(n,r)}:function(e,n,r){return n<0&&(n=e.length+n),e.substr(n,r)}}).call(this,r(3))},function(e,n){e.exports=require("cli-progress")},function(e,n){function r(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=15},function(e,n,r){"use strict";r.r(n),function(e){var n=r(0),t=r.n(n),o=r(2),i=r.n(o),c=r(6).promises,a=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],s=function(e){return e=(e=e.toLowerCase()).charAt(0).toUpperCase()+e.substr(1)},u=function(e){for(var n=(e=(e=e.replace(/_+/g," "))[0]+e.slice(1).replace(/[A-Z]/g,(function(e){return" ".concat(e)}))).split(/\s+/g),r=0,t=n.length;r<t;++r){for(var o=n[r].split("-"),i=0,c=o.length;i<c;++i){var u=o[i].toLowerCase();a.indexOf(u)<0&&(o[i]=s(u))}n[r]=o.join("-")}return e=(e=n.join(" ")).charAt(0).toUpperCase()+e.substr(1)};e.exports=function(e){var n,r=i()(e),o=r[0],a=r.slice(1);switch(o){case"model":var s={},l=i()(a),f=l[0],p=l[1],d=(w=l.slice(2)).reduce((function(e,n,r){if(n.includes("=")){var o=n.split("="),i=t()(o,2),c=i[0],a=i[1],u=void 0===a?"":a;e="".concat(e,"\n  ").concat(c," = ").concat(u,"\n")}else{var l=n;s[l.split("(")]=!0,e=" ".concat(e,"\n  @").concat(l)}return e}),""),h="import { Resource } from 'triframe/arbiter'\nimport { Model, include, ".concat(Object.keys(s).join(", ")," } from 'triframe/scribe'\nexport class ").concat(p," extends Resource {\n  @include(Model)\n").concat(d,"\n}");c.writeFile("./".concat(f,".js"),h);break;case"form":var m={},b="",v=i()(a),g=(f=v[0],v[1]),w=v.slice(2),y=g;if(g.includes(":")){var x=g.split(":"),j=t()(x,2);y=j[0],g=j[1]}var T=y.toLowerCase(),A=w.reduce((function(e,n,r){var o="TextInput",i=n.split("="),c=t()(i,2),a=c[0],s=c[1],l=void 0===s?"":s;if(a.includes(":")){var f=a.split(":"),p=t()(f,2);o=p[0],a=p[1]}(Number.isNaN(l)||""===l)&&(l='"'.concat(l,'"')),m[o]=!0;var d=u(a);return b="".concat(b,"\n        ").concat(a,": ").concat(l,","),e="".concat(e,"\n            <").concat(o,'\n                label="').concat(d,'"\n                value={').concat(T,".").concat(a,"}\n                onChange={").concat(a," => {\n                    hideErrorsFor('").concat(a,"')\n                    ").concat(T,".").concat(a," = ").concat(a," \n                }}\n            />\n            <HelperText visible={shouldShowErrorsFor('").concat(a,"')} type=\"error\">\n                {errorMessageFor('").concat(a,"')}\n            </HelperText>")}),"");h="import React from 'react'\nimport { tether, Container, Title, Button, HelperText, ".concat(Object.keys(m).join(", ")," } from 'triframe/designer'\n\nexport const ").concat((n=g,function(e,n){for(var r=(e=e.toLowerCase()).split(/[\s_]+/g),t=!0===n?0:1,o=r.length;t<o;++t){var i=r[t];r[t]=i.charAt(0).toUpperCase()+i.substr(1)}return r.join("")}(n,!0))," = tether(function*({  models }) {\n\n    const { ").concat(y," } = models\n\n    const global = yield { errorMessage: '' }\n\n    const ").concat(T," = yield new ").concat(y,"({").concat(b,"\n    })\n    \n    const { errorMessageFor, shouldShowErrorsFor, hideErrorsFor, showAllErrors, isValid } = ").concat(T,".validation\n\n    const handleSubmit = () => {\n        if(isValid){\n            try {\n                console.log('Submitted', ").concat(T,")\n            } catch (err){\n                global.errorMessage = err.message\n            }\n        } else {\n            showAllErrors()\n        }\n    }\n\n    return (\n        <Container>\n            <Title>").concat(u(g),'</Title>\n            <HelperText visible={global.errorMessage.length > 0} type="error">\n                {global.errorMessage}\n            </HelperText>').concat(A,"\n            <Button onPress={handleSubmit}>\n                Submit\n            </Button>\n        </Container>\n    )\n})");c.writeFile("./".concat(f,".js"),h);break;case"view":var k=t()(a,2);f=k[0],g=k[1],h="import React from 'react'\nimport { tether, Container, Title } from 'triframe/designer'\nconst ".concat(g," = tether(function*({  models, props, use, useContext, useHistory, redirect  }) {\nreturn (\n    <Container>\n        <Title>").concat(g,"</Title>\n    </Container>\n)\n})\nexport { ").concat(g," }");c.writeFile("./".concat(f,".js"),h)}}}.call(this,r(5)(e))}]);