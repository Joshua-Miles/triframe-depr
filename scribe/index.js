module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "../../../Documents/development/triframe/src/scribe/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithHoles.js":
/*!************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithHoles.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!***************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js":
/*!**************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/classCallCheck.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/construct.js":
/*!*******************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/construct.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/construct.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js":
/*!************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!*************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArray.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":
/*!******************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableRest.js":
/*!*************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableRest.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!***************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableSpread.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/setPrototypeOf.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js":
/*!***********************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithHoles.js\");\n\nvar iterableToArrayLimit = __webpack_require__(/*! ./iterableToArrayLimit */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\");\n\nvar nonIterableRest = __webpack_require__(/*! ./nonIterableRest */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js":
/*!*******************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nmodule.exports = _taggedTemplateLiteral;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/toArray.js":
/*!*****************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/toArray.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar nonIterableRest = __webpack_require__(/*! ./nonIterableRest */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/toArray.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!***************************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/toConsumableArray.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js":
/*!****************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js":
/*!*******************************************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"regenerator-runtime\");\n\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/Model.js":
/*!**************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/Model.js ***!
  \**************************************************************************/
/*! exports provided: Model */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Model\", function() { return Model; });\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_toArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/toArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/toArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toArray__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toArray__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _sql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sql */ \"../../../Documents/development/triframe/src/scribe/sql.js\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! triframe/core */ \"triframe/core\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(triframe_core__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _decorators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./decorators */ \"../../../Documents/development/triframe/src/scribe/decorators.js\");\n\n\n\n\n\n\n\n\n\nfunction _templateObject8() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            DELETE FROM \", \" WHERE true\\n        \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            SELECT {\\n                \", \" {\\n                    \", \"\\n                }\\n            }\\n            WHERE \", \"\\n            ORDER BY \", \".id ASC\\n        \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            SELECT {\\n                \", \" {\\n                    \", \"\\n                }\\n            }\\n            WHERE \", \"\\n            ORDER BY \", \".id ASC\\n        \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            SELECT {\\n                \", \" {\\n                    \", \"\\n                }\\n            }\\n            ORDER BY \", \".id ASC\\n        \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            DELETE FROM \", \" WHERE id = \", \"\\n        \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            INSERT INTO \", \" (\", \") \\n            VALUES (\", \")\\n            RETURNING id\\n        \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            UPDATE \", \" \\n            SET \", \"\\n            WHERE id = \", \"\\n        \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()([\"\\n            SELECT {\\n                \", \" {\\n                    \", \"\\n                }\\n            }\\n            WHERE \", \".id = \", \"\\n        \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _babel_runtime_helpers_toArray__WEBPACK_IMPORTED_MODULE_7___default()(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\n\nvar Model = _decorate(null, function (_initialize) {\n  var Model = function Model() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Model);\n\n    _initialize(this);\n  };\n\n  return {\n    F: Model,\n    d: [{\n      kind: \"field\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"pk\"]],\n      key: \"id\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"onConstruct\",\n      value: function onConstruct() {\n        var _this = this;\n\n        if (this.on) this.on('Δ.sync', function (e) {\n          return _this.commit(e);\n        });\n      } // ============================ CRUDL ============================\n      // static async create(attributes, columns = null){\n      //     const { relation } = this;\n      //     const fields = this.fieldsFrom(attributes)\n      //     let [ { id } ] = await sql`\n      //         INSERT INTO ${relation} (${keys(fields).join(', ')}) \n      //         VALUES (${values(fields).join(', ')})\n      //         RETURNING id\n      //     `\n      //     this.emit(`created.${id}`)\n      //     return await this.read(id, columns)\n      // }\n\n    }, {\n      kind: \"method\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"stream\"]],\n      \"static\": true,\n      key: \"read\",\n      value:\n      /*#__PURE__*/\n      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function read(id) {\n        var columns,\n            relation,\n            _ref,\n            _ref2,\n            result,\n            _args = arguments;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function read$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                columns = _args.length > 1 && _args[1] !== undefined ? _args[1] : null;\n                if (columns == null) columns = this.defaultSelectedColumns;\n                relation = this.relation;\n                _context.next = 5;\n                return Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"literal\"])(columns), relation, id);\n\n              case 5:\n                _ref = _context.sent;\n                _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_ref, 1);\n                result = _ref2[0];\n                return _context.abrupt(\"return\", result || null);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, read, this);\n      })\n    }, {\n      kind: \"method\",\n      \"static\": true,\n      key: \"create\",\n      value: function () {\n        var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(attributes) {\n          var instance;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  instance = new this(attributes);\n                  _context2.next = 3;\n                  return instance.persist();\n\n                case 3:\n                  return _context2.abrupt(\"return\", instance);\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function create(_x) {\n          return _create.apply(this, arguments);\n        }\n\n        return create;\n      }()\n    }, {\n      kind: \"method\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"shared\"]],\n      key: \"update\",\n      value: function update(attributes) {\n        Object.assign(this, attributes);\n      }\n    }, {\n      kind: \"method\",\n      key: \"commit\",\n      value: function () {\n        var _commit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(e) {\n          var _this2 = this;\n\n          var relation, attributes, fields, result;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (this.id) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 2:\n                  relation = this.constructor.relation;\n\n                  if (!(e.patches.length === 0)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", null);\n\n                case 5:\n                  attributes = e.patches.reduce(function (attributes, patch) {\n                    var key = patch.path.slice(1).split('/')[0];\n                    return _objectSpread({}, attributes, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, key, _this2[key]));\n                  }, {});\n                  fields = this.constructor.fieldsFrom(attributes);\n                  _context3.next = 9;\n                  return Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject2(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"reduce\"])(fields, function (key, value) {\n                    return \"\".concat(key, \" = \").concat(value);\n                  }), this.id);\n\n                case 9:\n                  result = _context3.sent;\n                  Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"each\"])(fields, function (key) {\n                    return _this2.constructor.emit(\"\".concat(_this2.id, \".changed.\").concat(key));\n                  });\n                  e.hasBeenCommitted();\n                  return _context3.abrupt(\"return\", result);\n\n                case 13:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function commit(_x2) {\n          return _commit.apply(this, arguments);\n        }\n\n        return commit;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"persist\",\n      value: function () {\n        var _persist = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3() {\n          var relation, fields, _ref3, _ref4, id;\n\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  relation = this.constructor.relation;\n                  fields = this.constructor.fieldsFrom(this);\n                  _context4.next = 4;\n                  return Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject3(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"keys\"])(fields).join(', '), Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"values\"])(fields).join(', '));\n\n                case 4:\n                  _ref3 = _context4.sent;\n                  _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_ref3, 1);\n                  id = _ref4[0].id;\n                  this['[[attributes]]'].id = this['[[base]]'].id = id;\n                  this.constructor.emit(\"created.\".concat(id));\n                  return _context4.abrupt(\"return\", id);\n\n                case 10:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function persist() {\n          return _persist.apply(this, arguments);\n        }\n\n        return persist;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"delete\",\n      value: function () {\n        var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4() {\n          var relation, result;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  relation = this.constructor.relation;\n                  _context5.next = 3;\n                  return Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject4(), relation, this.id);\n\n                case 3:\n                  result = _context5.sent;\n                  this.constructor.emit(\"deleted.\".concat(this.id));\n                  return _context5.abrupt(\"return\", result);\n\n                case 6:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function _delete() {\n          return _delete2.apply(this, arguments);\n        }\n\n        return _delete;\n      }()\n    }, {\n      kind: \"method\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"stream\"]],\n      \"static\": true,\n      key: \"list\",\n      value:\n      /*#__PURE__*/\n      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function list() {\n        var columns,\n            relation,\n            _args6 = arguments;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function list$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                columns = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : null;\n                if (columns == null) columns = this.defaultSelectedColumns;\n                relation = this.relation;\n                return _context6.abrupt(\"return\", Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject5(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"literal\"])(columns), relation));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, list, this);\n      }) // ============================ SEARCHERS ============================\n\n    }, {\n      kind: \"method\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"stream\"]],\n      \"static\": true,\n      key: \"where\",\n      value:\n      /*#__PURE__*/\n      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function where(conditions) {\n        var columns,\n            relation,\n            _args7 = arguments;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function where$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                columns = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : null;\n                relation = this.relation;\n                if (columns == null) columns = this.defaultSelectedColumns;\n                return _context7.abrupt(\"return\", Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject6(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"literal\"])(columns), Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"all\"])(conditions, function (key, value, _ref5) {\n                  var rawValue = _ref5.rawValue,\n                      escape = _ref5.escape;\n                  return when(rawValue === null, function () {\n                    return \"\\\"\".concat(relation.value, \"\\\".\").concat(key, \" IS NULL\");\n                  }, otherwiseWhen(Array.isArray(rawValue), function () {\n                    return \"\\\"\".concat(relation.value, \"\\\".\").concat(key, \" IN (\").concat(rawValue.map(escape).join(', '), \")\");\n                  }), otherwise(function () {\n                    return \"\\\"\".concat(relation.value, \"\\\".\").concat(key, \" = \").concat(value);\n                  }));\n                }), relation));\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, where, this);\n      })\n    }, {\n      kind: \"method\",\n      decorators: [_decorators__WEBPACK_IMPORTED_MODULE_10__[\"stream\"]],\n      \"static\": true,\n      key: \"search\",\n      value:\n      /*#__PURE__*/\n      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function search(conditions) {\n        var columns,\n            relation,\n            _args8 = arguments;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function search$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                columns = _args8.length > 1 && _args8[1] !== undefined ? _args8[1] : null;\n                relation = this.relation;\n                if (columns == null) columns = this.defaultSelectedColumns;\n                return _context8.abrupt(\"return\", Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject7(), relation, Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"literal\"])(columns), Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"any\"])(conditions, function (key, value) {\n                  return \"\\\"\".concat(relation.value, \"\\\".\").concat(key, \" LIKE \").concat(value);\n                }), relation));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, search, this);\n      })\n    }, {\n      kind: \"method\",\n      \"static\": true,\n      key: \"truncate\",\n      value: function () {\n        var _truncate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5() {\n          var relation;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  relation = this.relation;\n                  return _context9.abrupt(\"return\", Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"sql\"])(_templateObject8(), relation));\n\n                case 2:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function truncate() {\n          return _truncate.apply(this, arguments);\n        }\n\n        return truncate;\n      }() // ============================ UTILS ============================\n\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"defaultSelectedColumns\",\n      value: function defaultSelectedColumns() {\n        return Object.keys(this.persistedFields).join(',\\n');\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"relation\",\n      value: function relation() {\n        return Object(_sql__WEBPACK_IMPORTED_MODULE_8__[\"literal\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"toTableName\"])(this.name));\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"persistedFields\",\n      value: function persistedFields() {\n        var _this3 = this;\n\n        return Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"index\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"filter\"])(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"metadata\"], function (key, value) {\n          return value.className === _this3.name && value.type === 'persisted';\n        }), 'key');\n      }\n    }, {\n      kind: \"method\",\n      \"static\": true,\n      key: \"fieldsFrom\",\n      value: function fieldsFrom(obj) {\n        var tempInstance = new this();\n        var persistedFields = this.persistedFields;\n        var fields = {};\n        Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"each\"])(persistedFields, function (key) {\n          if (obj[key] !== undefined) {\n            var _getMetadata = Object(triframe_core__WEBPACK_IMPORTED_MODULE_9__[\"getMetadata\"])(tempInstance, key),\n                sqlEncode = _getMetadata.sqlEncode;\n\n            if (sqlEncode) fields[key] = sqlEncode(obj[key]);else fields[key] = obj[key];\n          }\n        });\n        return fields;\n      }\n    }]\n  };\n});\n\nvar when = function when(condition, result) {\n  if (condition) return result();else {\n    for (var _len = arguments.length, alternatives = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      alternatives[_key - 2] = arguments[_key];\n    }\n\n    var alternative = alternatives.find(function (alternative) {\n      return alternative.predicate == true;\n    });\n    if (alternative) return alternative.result();else return null;\n  }\n};\n\nvar otherwiseWhen = function otherwiseWhen(predicate, result) {\n  return {\n    predicate: predicate,\n    result: result\n  };\n};\n\nvar otherwise = function otherwise(result) {\n  return {\n    predicate: true,\n    result: result\n  };\n};\n\n\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/Model.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/database.js":
/*!*****************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/database.js ***!
  \*****************************************************************************/
/*! exports provided: database, connect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"database\", function() { return database; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connect\", function() { return connect; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _migrate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./migrate */ \"../../../Documents/development/triframe/src/scribe/migrate.js\");\n\n\n\n\nvar Client = __webpack_require__(/*! pg */ \"pg\").Client;\n\nvar database = null;\nvar connect = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(options) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            database = new Client(options);\n            _context.next = 3;\n            return database.connect();\n\n          case 3:\n            _context.next = 5;\n            return Object(_migrate__WEBPACK_IMPORTED_MODULE_2__[\"migrate\"])();\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function connect(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/database.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/decorators.js":
/*!*******************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/decorators.js ***!
  \*******************************************************************************/
/*! exports provided: string, text, numeric, float, integer, boolean, timestamp, timestamptz, date, time, point, line, lseg, path, polygon, circle, list, json, serial, pk, virtual, hasMany, hasOne, belongsTo, hidden, readonly, hiddenUnless, readonlyUnless, shared, session, validate, include, stream */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"string\", function() { return string; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"text\", function() { return text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numeric\", function() { return numeric; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"float\", function() { return _float; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"integer\", function() { return integer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"boolean\", function() { return _boolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timestamp\", function() { return timestamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timestamptz\", function() { return timestamptz; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"date\", function() { return date; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"time\", function() { return time; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"point\", function() { return point; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line\", function() { return line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lseg\", function() { return lseg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"path\", function() { return path; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygon\", function() { return polygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"circle\", function() { return circle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"list\", function() { return list; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"json\", function() { return json; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"serial\", function() { return serial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pk\", function() { return pk; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"virtual\", function() { return virtual; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasMany\", function() { return hasMany; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasOne\", function() { return hasOne; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"belongsTo\", function() { return belongsTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hidden\", function() { return hidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"readonly\", function() { return readonly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hiddenUnless\", function() { return hiddenUnless; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"readonlyUnless\", function() { return readonlyUnless; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shared\", function() { return shared; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"session\", function() { return session; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validate\", function() { return validate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"include\", function() { return include; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stream\", function() { return stream; });\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_construct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/construct */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/construct.js\");\n/* harmony import */ var _babel_runtime_helpers_construct__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_construct__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! triframe/core */ \"triframe/core\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(triframe_core__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var triframe_arbiter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! triframe/arbiter */ \"triframe/arbiter\");\n/* harmony import */ var triframe_arbiter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(triframe_arbiter__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n //  ---------------------- DATATYPES ----------------------\n\nvar string = createPropertyDecorator(function (_ref) {\n  var decoratorArgs = _ref.decoratorArgs;\n  return {\n    datatype: 'varchar',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar text = createPropertyDecorator(function (_ref2) {\n  var decoratorArgs = _ref2.decoratorArgs;\n  return {\n    datatype: 'text',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar numeric = createPropertyDecorator(function (_ref3) {\n  var decoratorArgs = _ref3.decoratorArgs;\n  return {\n    datatype: 'numeric',\n    constraints: decoratorArgs[1] || {}\n  };\n});\n\nvar _float = createPropertyDecorator(function (_ref4) {\n  var decoratorArgs = _ref4.decoratorArgs;\n  return {\n    datatype: 'float8',\n    constraints: decoratorArgs[1] || {}\n  };\n});\n\n\nvar integer = createPropertyDecorator(function (_ref5) {\n  var decoratorArgs = _ref5.decoratorArgs;\n  return {\n    datatype: 'int4',\n    constraints: decoratorArgs[1] || {}\n  };\n});\n\nvar _boolean = createPropertyDecorator(function (_ref6) {\n  var decoratorArgs = _ref6.decoratorArgs;\n  return {\n    datatype: 'bool',\n    constraints: decoratorArgs[1] || {}\n  };\n});\n\n\nvar timestamp = createPropertyDecorator(function (_ref7) {\n  var decoratorArgs = _ref7.decoratorArgs;\n  return {\n    datatype: 'timestamp',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar timestamptz = createPropertyDecorator(function (_ref8) {\n  var decoratorArgs = _ref8.decoratorArgs;\n  return {\n    datatype: 'timestamptz',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar date = createPropertyDecorator(function (_ref9) {\n  var decoratorArgs = _ref9.decoratorArgs;\n  return {\n    datatype: 'date',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar time = createPropertyDecorator(function (_ref10) {\n  var decoratorArgs = _ref10.decoratorArgs;\n  return {\n    datatype: 'time',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar point = createPropertyDecorator(function (_ref11) {\n  var decoratorArgs = _ref11.decoratorArgs;\n  return {\n    datatype: 'point',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar line = createPropertyDecorator(function (_ref12) {\n  var decoratorArgs = _ref12.decoratorArgs;\n  return {\n    datatype: 'line',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar lseg = createPropertyDecorator(function (_ref13) {\n  var decoratorArgs = _ref13.decoratorArgs;\n  return {\n    datatype: 'lseg',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar path = createPropertyDecorator(function (_ref14) {\n  var decoratorArgs = _ref14.decoratorArgs;\n  return {\n    datatype: 'path',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar polygon = createPropertyDecorator(function (_ref15) {\n  var decoratorArgs = _ref15.decoratorArgs;\n  return {\n    datatype: 'polygon',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar circle = createPropertyDecorator(function (_ref16) {\n  var decoratorArgs = _ref16.decoratorArgs;\n  return {\n    datatype: 'circle',\n    constraints: decoratorArgs[1] || {}\n  };\n});\nvar list = createPropertyDecorator(function (_ref17) {\n  var decoratorArgs = _ref17.decoratorArgs;\n  return {\n    datatype: 'json',\n    constraints: decoratorArgs[1] || {},\n    sqlEncode: function sqlEncode(value) {\n      return JSON.stringify(value);\n    },\n    sqlDecode: function sqlDecode(value) {\n      try {\n        return JSON.parse(value);\n      } catch (err) {\n        return value;\n      }\n    }\n  };\n});\nvar json = createPropertyDecorator(function (_ref18) {\n  var decoratorArgs = _ref18.decoratorArgs;\n  return {\n    datatype: 'json',\n    constraints: decoratorArgs[1] || {},\n    sqlEncode: function sqlEncode(value) {\n      return JSON.stringify(value);\n    },\n    sqlDecode: function sqlDecode(value) {\n      try {\n        return JSON.parse(value);\n      } catch (err) {\n        return value;\n      }\n    }\n  };\n});\nvar serial = createPropertyDecorator(function (_ref19) {\n  var decoratorArgs = _ref19.decoratorArgs;\n  return {\n    datatype: 'SERIAL',\n    constraints: decoratorArgs[0] || {}\n  };\n});\nvar pk = serial({\n  primaryKey: true\n}); //  ---------------------- RELATIONSHIPS ----------------------\n\nvar virtual = createDecorator(function (_ref20) {\n  var _ref20$decoratorArgs = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref20.decoratorArgs, 1),\n      definition = _ref20$decoratorArgs[0],\n      target = _ref20.target,\n      key = _ref20.key,\n      fieldValue = _ref20.fieldValue,\n      isMethod = _ref20.isMethod;\n\n  if (!isMethod) Object.defineProperty(target, key, createDocumentProperty(key));\n  return {\n    isShared: true,\n    type: 'virtual',\n    definition: definition,\n    defaultValue: fieldValue\n  };\n});\nvar hasMany = createPropertyDecorator(function (_ref21) {\n  var _ref21$decoratorArgs = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref21.decoratorArgs, 1),\n      _ref21$decoratorArgs$ = _ref21$decoratorArgs[0],\n      options = _ref21$decoratorArgs$ === void 0 ? {} : _ref21$decoratorArgs$,\n      target = _ref21.target,\n      key = _ref21.key,\n      fieldValue = _ref21.fieldValue;\n\n  Object.defineProperty(target, key, createDocumentProperty(key));\n  return {\n    isShared: true,\n    type: 'relationship',\n    joinType: 'hasMany',\n    options: options,\n    defaultValue: fieldValue\n  };\n});\nvar hasOne = createPropertyDecorator(function (_ref22) {\n  var _ref22$decoratorArgs = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref22.decoratorArgs, 1),\n      _ref22$decoratorArgs$ = _ref22$decoratorArgs[0],\n      options = _ref22$decoratorArgs$ === void 0 ? {} : _ref22$decoratorArgs$,\n      target = _ref22.target,\n      key = _ref22.key,\n      fieldValue = _ref22.fieldValue;\n\n  Object.defineProperty(target, key, createDocumentProperty(key));\n  return {\n    isShared: true,\n    type: 'relationship',\n    joinType: 'hasOne',\n    options: options,\n    defaultValue: fieldValue\n  };\n});\nvar belongsTo = createPropertyDecorator(function (_ref23) {\n  var _ref23$decoratorArgs = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref23.decoratorArgs, 1),\n      _ref23$decoratorArgs$ = _ref23$decoratorArgs[0],\n      options = _ref23$decoratorArgs$ === void 0 ? {} : _ref23$decoratorArgs$,\n      target = _ref23.target,\n      key = _ref23.key,\n      fieldValue = _ref23.fieldValue;\n\n  var foreignKey = Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"toCamelCase\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"toForeignKeyName\"])(key));\n  Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(target, foreignKey, {\n    type: 'persisted',\n    datatype: 'int4',\n    isShared: true\n  }); // hasMany would listen for a foreign key change on this side\n  // target.constructor.on(`*.changed.${foreignKey}`, (e, event) => {\n  //     let [ id ] = event.split('.')\n  //     target.constructor.emit(`${id}.changed.${key}`)\n  // })\n\n  Object.defineProperty(target, key, createDocumentProperty(key));\n  Object.defineProperty(target, foreignKey, createDocumentProperty(foreignKey));\n  return {\n    isShared: true,\n    type: 'relationship',\n    joinType: 'belongsTo',\n    options: options,\n    defaultValue: fieldValue\n  };\n}); //  --------------------- ACCESS LEVELS --------------------\n// export const read =  createDecorator(({ decoratorArgs, fieldValue }) => ({\n//     readAccess: decoratorArgs[0],\n//     readAccessTest: decoratorArgs[1]\n// }))\n// export const write =  createDecorator(({ decoratorArgs, fieldValue }) => ({\n//     writeAccess: decoratorArgs[0],\n//     writeAccessTest: decoratorArgs[1]\n// }))\n// export const access =  createDecorator(({ decoratorArgs, fieldValue }) => ({\n//     readAccess: decoratorArgs[0],\n//     writeAccess: decoratorArgs[0],\n//     readAccessTest: decoratorArgs[1],\n//     readAccessTest: decoratorArgs[1]\n// }))\n\nvar hidden = createDecorator(function (_ref24) {\n  var decoratorArgs = _ref24.decoratorArgs,\n      fieldValue = _ref24.fieldValue;\n  return {\n    readAccessTest: function readAccessTest() {\n      return false;\n    }\n  };\n});\nvar readonly = createDecorator(function (_ref25) {\n  var decoratorArgs = _ref25.decoratorArgs,\n      fieldValue = _ref25.fieldValue;\n  return {\n    writeAccessTest: function writeAccessTest() {\n      return false;\n    }\n  };\n});\nvar hiddenUnless = createDecorator(function (_ref26) {\n  var decoratorArgs = _ref26.decoratorArgs,\n      fieldValue = _ref26.fieldValue;\n  return {\n    readAccessTest: decoratorArgs[0]\n  };\n});\nvar readonlyUnless = createDecorator(function (_ref27) {\n  var decoratorArgs = _ref27.decoratorArgs,\n      fieldValue = _ref27.fieldValue;\n  return {\n    writeAccessTest: decoratorArgs[0]\n  };\n}); //  ---------------------- MISC ----------------------\n\nvar shared = createDecorator(function (_ref28) {\n  var decoratorArgs = _ref28.decoratorArgs,\n      fieldValue = _ref28.fieldValue;\n  return {\n    isShared: true\n  };\n});\nvar session = createDecorator(function (_ref29) {\n  var decoratorArgs = _ref29.decoratorArgs,\n      fieldValue = _ref29.fieldValue;\n  return {\n    usesSession: true\n  };\n});\nvar validate = createDecorator(function (_ref30) {\n  var decoratorArgs = _ref30.decoratorArgs,\n      target = _ref30.target,\n      key = _ref30.key,\n      fieldValue = _ref30.fieldValue;\n  decoratorArgs.forEach(function (validator) {\n    return target.validation.addHandler(key, validator);\n  });\n  return {\n    validators: decoratorArgs\n  };\n});\nvar include = function include() {\n  for (var _len = arguments.length, models = new Array(_len), _key = 0; _key < _len; _key++) {\n    models[_key] = arguments[_key];\n  }\n\n  return function (decorated) {\n    register(function (target) {\n      var Class = typeof target === 'function' ? target : target.constructor;\n      var prototype = typeof target === 'function' ? target.prototype : target;\n      Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"each\"])(models, function (key, Model) {\n        // Copy Static\n        Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"each\"])(Object.getOwnPropertyDescriptors(Model), function (key, descriptor) {\n          if (key == 'name' || key == 'prototype' || key == 'length') return;\n          var metadata = Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"getMetadata\"])(Model, key);\n          if (!isEmpty(metadata)) Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(Class, key, metadata);\n          Object.defineProperty(Class, key, descriptor);\n        }); // Copy Prototype\n\n        Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"each\"])(Object.getOwnPropertyDescriptors(Model.prototype), function (key, descriptor) {\n          if (key === 'constructor' || key === 'onConstruct' || key === '[[validation]]') return;\n          var metadata = Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"getMetadata\"])({\n            __proto__: {\n              constructor: Model\n            }\n          }, key);\n          if (!isEmpty(metadata)) Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(prototype, key, metadata);\n          Object.defineProperty(prototype, key, descriptor);\n        });\n\n        if (Model.prototype['[[validation]]']) {\n          if (prototype['[[validation]]']) prototype['[[validation]]'].handlers = _objectSpread({}, prototype['[[validation]]'].handlers, {}, Model.prototype['[[validation]]'].handlers);else prototype['[[validation]]'] = Model.prototype['[[validation]]'];\n        }\n      });\n    })(decorated);\n    initialize(function (object) {\n      Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"each\"])(models, function (key, Model) {\n        if (Model.prototype.onConstruct) Model.prototype.onConstruct.call(object);\n      });\n    })(decorated);\n  };\n};\n\nfunction createStream(method) {\n  var prependEmit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var process = function process(emit) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    if (prependEmit) args.unshift(emit);\n    return method.call.apply(method, [this].concat(args));\n  };\n\n  return function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _babel_runtime_helpers_construct__WEBPACK_IMPORTED_MODULE_1___default()(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"Pipe\"], [[this, process]].concat(args));\n  };\n}\n\nvar stream = function stream(decorated) {\n  var prependEmit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(decorated) === 'object') {\n    var original;\n    register(function (target, key) {\n      Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(target, key, {\n        isStream: true,\n        prependEmit: prependEmit,\n        original: original\n      });\n    })(decorated);\n    wrap(function (method) {\n      original = method;\n      return createStream(method, prependEmit);\n    })(decorated);\n    return decorated;\n  }\n\n  if (typeof decorated === 'function') {\n    return createStream(decorated, prependEmit);\n  }\n\n  if (typeof decorated === 'boolean') {\n    return function (x) {\n      return stream(x, decorated);\n    };\n  }\n}; // TODO: VALIDATION DECORATOR\n\nfunction createPropertyDecorator(define) {\n  var decorator = function decorator(decorated) {\n    var decoratorArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    decorated = register(function (target, key, fieldValue) {\n      Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(target, key, _objectSpread({\n        isShared: true,\n        type: 'persisted',\n        defaultValue: fieldValue\n      }, define({\n        decoratorArgs: decoratorArgs,\n        target: target,\n        key: key,\n        fieldValue: fieldValue\n      })));\n    })(decorated);\n    delete decorated.initializer;\n    delete decorated.descriptor.value;\n    delete decorated.descriptor.writable;\n    return _objectSpread({}, decorated, {\n      kind: 'method',\n      placement: 'prototype',\n      descriptor: _objectSpread({}, decorated.descriptor, {}, createDocumentProperty(decorated.key))\n    }); // initialize((target, key, value) => { })(decorated)\n  };\n\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    if (args[0] && args[0].descriptor && args[0].kind) return decorator(args[0]);\n    return function (decorated) {\n      return decorator(decorated, args);\n    };\n  };\n}\n\nfunction createDecorator(define) {\n  var decorator = function decorator(decorated) {\n    var decoratorArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    register(function (target, key, fieldValue, isMethod) {\n      return Object(triframe_core__WEBPACK_IMPORTED_MODULE_4__[\"saveMetadata\"])(target, key, _objectSpread({}, define({\n        decoratorArgs: decoratorArgs,\n        target: target,\n        key: key,\n        fieldValue: fieldValue,\n        isMethod: isMethod\n      })));\n    })(decorated);\n  };\n\n  return function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    if (args[0] && args[0].descriptor && args[0].kind) return decorator(args[0]);\n    return function (decorated) {\n      return decorator(decorated, args);\n    };\n  };\n}\n\nfunction createDocumentProperty(key) {\n  return {\n    enumerable: true,\n    get: new Function(\"\\n            return this['[[attributes]]'].\".concat(key, \"\\n        \")),\n    set: new Function('value', \"\\n            this['[[attributes]]'].\".concat(key, \" = value\\n            let patch = {\\n                op: 'replace',\\n                path: '/\").concat(key, \"',\\n                value\\n            }\\n            this['[[patches]]'].push(patch)\\n            this.emit('\\u0394.change', [ patch ])\\n        \"))\n  };\n}\n\nfunction register(callback) {\n  return function (decorated) {\n    var previous = decorated.finisher;\n    var initializer = decorated.initializer;\n\n    decorated.finisher = function (Class) {\n      var _decorated$descriptor, _decorated$descriptor2;\n\n      if (typeof previous == 'function') previous(Class);\n      var value;\n\n      switch (decorated.placement) {\n        case 'class':\n          callback(Class);\n          break;\n\n        case 'static':\n          value = decorated.kind === 'field' && typeof initializer === 'function' ? initializer() : (_decorated$descriptor = decorated.descriptor) === null || _decorated$descriptor === void 0 ? void 0 : _decorated$descriptor.value;\n          callback(Class, decorated.key, value);\n          break;\n\n        default:\n          value = decorated.kind === 'field' && typeof initializer === 'function' ? initializer() : (_decorated$descriptor2 = decorated.descriptor) === null || _decorated$descriptor2 === void 0 ? void 0 : _decorated$descriptor2.value;\n          callback(Class.prototype, decorated.key, value, decorated.kind === 'method');\n      }\n    };\n\n    return decorated;\n  };\n}\n\nfunction wrap(callback) {\n  return function (decorated) {\n    var original;\n\n    switch (decorated.kind) {\n      case 'field':\n        original = typeof decorated.initializer === 'function' ? decorated.initializer : function () {\n          return null;\n        };\n\n        decorated.initializer = function () {\n          return function () {\n            for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n              args[_key6] = arguments[_key6];\n            }\n\n            callback(function () {\n              return original.apply(void 0, args);\n            });\n          };\n        };\n\n        break;\n\n      case 'method':\n        original = decorated.descriptor.value;\n        decorated.descriptor.value = callback(original);\n        break;\n    }\n\n    return decorated;\n  };\n}\n\nfunction initialize(callback) {\n  return function (decorated) {\n    var temp = Symbol();\n    decorated.extras = [{\n      kind: 'field',\n      placement: 'own',\n      key: temp,\n      descriptor: {},\n      initializer: function initializer() {\n        delete this[temp]; // let value = typeof decorated.initializer === 'function' ? decorated.initializer() : undefined\n\n        callback(this);\n      }\n    }];\n  };\n}\n\nvar isEmpty = function isEmpty(x) {\n  return Object.keys(x).length === 0;\n};\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/decorators.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/index.js":
/*!**************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/index.js ***!
  \**************************************************************************/
/*! exports provided: connect, literal, sql, Model, string, text, numeric, float, integer, boolean, timestamp, timestamptz, date, time, point, line, lseg, path, polygon, circle, list, json, serial, pk, virtual, hasMany, belongsTo, hasOne, hidden, readonly, hiddenUnless, readonlyUnless, shared, stream, session, validate, include */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sql */ \"../../../Documents/development/triframe/src/scribe/sql.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"literal\", function() { return _sql__WEBPACK_IMPORTED_MODULE_0__[\"literal\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sql\", function() { return _sql__WEBPACK_IMPORTED_MODULE_0__[\"sql\"]; });\n\n/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Model */ \"../../../Documents/development/triframe/src/scribe/Model.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Model\", function() { return _Model__WEBPACK_IMPORTED_MODULE_1__[\"Model\"]; });\n\n/* harmony import */ var _decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./decorators */ \"../../../Documents/development/triframe/src/scribe/decorators.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"string\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"string\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"text\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"text\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"numeric\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"numeric\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"float\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"float\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"integer\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"integer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"boolean\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"boolean\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"timestamp\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"timestamp\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"timestamptz\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"timestamptz\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"date\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"date\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"time\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"time\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"point\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"point\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"line\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"line\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"lseg\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"lseg\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"path\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"path\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"polygon\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"polygon\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"circle\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"circle\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"list\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"list\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"json\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"json\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"serial\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"serial\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pk\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"pk\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"virtual\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"virtual\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hasMany\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"hasMany\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"belongsTo\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"belongsTo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hasOne\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"hasOne\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hidden\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"hidden\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"readonly\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"readonly\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"hiddenUnless\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"hiddenUnless\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"readonlyUnless\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"readonlyUnless\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"shared\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"shared\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"stream\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"stream\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"session\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"session\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"validate\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"validate\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"include\", function() { return _decorators__WEBPACK_IMPORTED_MODULE_2__[\"include\"]; });\n\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./database */ \"../../../Documents/development/triframe/src/scribe/database.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"connect\", function() { return _database__WEBPACK_IMPORTED_MODULE_3__[\"connect\"]; });\n\n\n\n\n\n\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/index.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/migrate.js":
/*!****************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/migrate.js ***!
  \****************************************************************************/
/*! exports provided: migrate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"migrate\", function() { return migrate; });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! triframe/core */ \"triframe/core\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(triframe_core__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./database */ \"../../../Documents/development/triframe/src/scribe/database.js\");\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar migrate = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {\n    var newSchema, schema, patch;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            newSchema = Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"map\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"group\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"filter\"])(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"metadata\"], function (_, metadata) {\n              return metadata.type === 'persisted';\n            }), function (_, d) {\n              return Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"toTableName\"])(d.className);\n            }), function (_, metadata) {\n              return Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(metadata, function (_, metadata) {\n                return Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"toUnderscored\"])(metadata.key);\n              });\n            });\n            _context.t0 = formatSchema;\n            _context.next = 4;\n            return _database__WEBPACK_IMPORTED_MODULE_7__[\"database\"].query(selectSchema());\n\n          case 4:\n            _context.t1 = _context.sent;\n            schema = (0, _context.t0)(_context.t1);\n            patch = generatePatch(schema, newSchema);\n\n            if (!patch) {\n              _context.next = 11;\n              break;\n            }\n\n            console.log('Patching:', patch);\n            _context.next = 11;\n            return _database__WEBPACK_IMPORTED_MODULE_7__[\"database\"].query(patch);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function migrate() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createTable = function createTable(name) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Array();\n  return \"CREATE TABLE \\\"\".concat(name, \"\\\" (\").concat(Object.values(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"map\"])(fields, defineColumn)).join(', '), \");\");\n};\n\nvar dropTable = function dropTable(name) {\n  return \"DROP TABLE \\\"\".concat(name, \"\\\"\");\n};\n\nvar addColumn = function addColumn(name, column) {\n  return \"ADD COLUMN \".concat(defineColumn(name, column));\n};\n\nvar dropColumn = function dropColumn(name) {\n  return \"DROP COLUMN \\\"\".concat(name, \"\\\"\");\n};\n\nvar alterColumn = function alterColumn(name, operations) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" \").concat(operations.join(', '));\n};\n\nvar defineColumn = function defineColumn(name, _ref2) {\n  var datatype = _ref2.datatype,\n      typeModifier = _ref2.typeModifier,\n      defaultValue = _ref2.defaultValue,\n      constraints = _ref2.constraints;\n  var definition = \"\\\"\".concat(name, \"\\\" \").concat(datatype);\n  if (typeModifier) definition = \"\".concat(definition, \"(\").concat(typeModifier, \")\");\n  if (defaultValue !== undefined) definition = \"\".concat(definition, \" DEFAULT \").concat(format(defaultValue));\n  if (constraints) definition = \"\".concat(definition, \" \").concat(defineConstraints(constraints));\n  return definition;\n}; // 2004-10-19 10:23:54+02\n\n\nvar format = function format(defaultValue) {\n  if (defaultValue === null) {\n    return \"NULL\";\n  }\n\n  if (typeof defaultValue == 'number' || typeof defaultValue == 'boolean') {\n    return defaultValue;\n  }\n\n  if (typeof defaultValue == 'string') {\n    return \"'\".concat(defaultValue, \"'\");\n  }\n\n  if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default()(defaultValue) == 'object' && defaultValue.__proto__ == Object.prototype\n  /* || defaultValue instanceof List */\n  ) {\n    return \"'\".concat(JSON.stringify(defaultValue), \"'::json\");\n  }\n\n  if (defaultValue instanceof Date) {\n    return \"NOW()\";\n  }\n\n  if (Array.isArray(defaultValue)) {\n    return \"'\".concat(JSON.stringify(defaultValue), \"'\");\n  }\n\n  throw Error(\"Variable type cannot be coalesced for sql query: \".concat(defaultValue));\n};\n\nvar defineConstraints = function defineConstraints(_ref3) {\n  var unique = _ref3.unique,\n      notNull = _ref3.notNull,\n      primaryKey = _ref3.primaryKey,\n      references = _ref3.references;\n  var definition = '';\n  if (unique) definition = \"\".concat(definition, \" UNIQUE \");\n  if (notNull) definition = \"\".concat(definition, \" NOT NULL \");\n  if (primaryKey) definition = \"\".concat(definition, \" PRIMARY KEY \");\n\n  if (references) {\n    var table = references.table,\n        onDelete = references.onDelete;\n    definition = \"\".concat(definition, \" REFERENCES \").concat(table, \"(id) ON DELETE \").concat(mapDeleteAction.fromJS.toSQL[onDelete] || 'SET NULL');\n  }\n\n  return definition;\n};\n\nvar setType = function setType(name, type) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" TYPE \").concat(type);\n};\n\nvar setNotNull = function setNotNull(name) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" SET NOT NULL\");\n};\n\nvar dropNotNull = function dropNotNull(name) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" DROP NOT NULL\");\n};\n\nvar setColumnDefault = function setColumnDefault(name, defaultValue) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" SET DEFAULT \").concat(format(defaultValue));\n};\n\nvar dropColumnDefault = function dropColumnDefault(name) {\n  return \"ALTER COLUMN \\\"\".concat(name, \"\\\" DROP DEFAULT\");\n};\n\nvar addUniqueConstraint = function addUniqueConstraint(name) {\n  return \"ADD CONSTRAINT \".concat(name, \"_unique UNIQUE(\").concat(name, \")\");\n};\n\nvar dropUniqueConstraint = function dropUniqueConstraint(name) {\n  return \"DROP CONSTRAINT \".concat(name, \"_unique\");\n};\n\nvar addPrimaryKeyConstraint = function addPrimaryKeyConstraint(name) {\n  return \"ADD CONSTRAINT \".concat(name, \"_pk PRIMARY KEY(\").concat(name, \")\");\n};\n\nvar dropPrimaryKeyConstraint = function dropPrimaryKeyConstraint(name) {\n  return \"DROP CONSTRAINT \".concat(name, \"_pk\");\n};\n\nvar addReference = function addReference(name, _ref4) {\n  var table = _ref4.table,\n      onDelete = _ref4.onDelete;\n  return \"ADD CONSTRAINT \".concat(name, \"_fkey FOREIGN KEY(\").concat(name, \") REFERENCES \").concat(table, \"(id) ON DELETE \").concat(mapDeleteAction.fromJS.toSQL[onDelete] || 'SET NULL');\n};\n\nvar dropReference = function dropReference(name) {\n  return \"DROP CONSTRAINT \".concat(name, \"_fkey\");\n};\n\nvar decodeAdsrc = function decodeAdsrc(text) {\n  if (!text) return text;\n\n  var _text$split = text.split('::'),\n      _text$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_text$split, 1),\n      value = _text$split2[0];\n\n  return value.replace(/'/g, '');\n};\n\nvar selectSchema = function selectSchema() {\n  return \"\\n    SELECT \\n        tab.relname as table_name,\\n        attr.attname as name,\\n        ty.typname as type,\\n        attr.atttypmod as type_modifier,\\n        con.contype as constraint_type,\\n        ref_table.relname as reference_table,\\n        con.confdeltype as on_delete,\\n        con.confupdtype as on_update,\\n        attr.attnotnull as not_null,\\n        pg_get_expr(de.adbin, de.adrelid) as default_value\\n    FROM\\n        pg_class as tab\\n        JOIN pg_catalog.pg_namespace as n \\n            ON n.oid = tab.relnamespace\\n        LEFT JOIN pg_attribute as attr\\n            ON tab.oid = attr.attrelid\\n        LEFT JOIN pg_type as ty\\n            ON attr.atttypid = ty.oid\\n        LEFT JOIN pg_attrdef as de\\n            ON  \\n                tab.oid = de.adrelid\\n            AND\\n                attr.attnum = de.adnum\\n        LEFT JOIN pg_constraint as con \\n            ON \\n                attr.attrelid = con.conrelid\\n            AND\\n                attr.attnum = ANY(con.conkey)\\n        LEFT JOIN pg_class as ref_table ON con.confrelid = ref_table.oid\\n    WHERE \\n        tab.relkind = 'r'\\n            AND\\n        n.nspname = 'public'\\n            AND\\n        attr.attnum >= 0\\n            AND\\n        ty.typname IS NOT NULL\\n\";\n};\n\nvar formatSchema = function formatSchema(schema) {\n  return Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"map\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"group\"])(schema.rows, 'table_name'), function (tableName, table) {\n    return Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"map\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"group\"])(table, 'name'), function (columnName, constraints) {\n      return {\n        tableName: constraints[0].table_name,\n        key: constraints[0].name,\n        datatype: constraints[0].type,\n        typeModifier: constraints[0].type_modifier,\n        defaultValue: decodeAdsrc(constraints[0].default_value),\n        constraints: _objectSpread({\n          notNull: constraints[0].not_null\n        }, Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"map\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(constraints, byConstraintType), toFormattedConstraint))\n      };\n    });\n  });\n};\n\nvar byConstraintType = function byConstraintType(key, _ref5) {\n  var constraint_type = _ref5.constraint_type;\n  return mapConstraintType.fromEnum.toJS[constraint_type] ? mapConstraintType.fromEnum.toJS[constraint_type] : 'details';\n};\n\nvar toFormattedConstraint = function toFormattedConstraint(type, _ref6) {\n  var reference_table = _ref6.reference_table,\n      on_delete = _ref6.on_delete,\n      on_update = _ref6.on_update;\n\n  if (type == 'references') {\n    return {\n      onDelete: mapDeleteAction.fromEnum.toJS[on_delete],\n      // onUpdate: on_update,\n      table: reference_table\n    };\n  } else {\n    return true;\n  }\n};\n\nvar deleteActionMap = [{\n  \"enum\": 'r',\n  sql: 'RESTRICT',\n  js: 'restrict'\n}, {\n  \"enum\": 'a',\n  sql: 'NO ACTION',\n  js: 'noAction'\n}, {\n  \"enum\": 'd',\n  sql: 'SET DEFAULT',\n  js: 'setDefault'\n}, {\n  \"enum\": 'c',\n  sql: 'CASCADE',\n  js: 'cascade'\n}, {\n  \"enum\": 'n',\n  sql: 'SET NULL',\n  js: 'setNull'\n}];\nvar mapDeleteAction = {\n  fromEnum: {\n    toJS: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'enum', 'js'),\n    toSQL: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'enum', 'sql')\n  },\n  fromJS: {\n    toEnum: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'js', 'enum'),\n    toSQL: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'js', 'sql')\n  },\n  fromSQL: {\n    toJS: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'sql', 'js'),\n    toEnum: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(deleteActionMap, 'sql', 'enum')\n  }\n};\nvar constraintTypeMap = [{\n  \"enum\": 'p',\n  js: 'primaryKey'\n}, {\n  \"enum\": 'f',\n  js: 'references'\n}, {\n  \"enum\": 'u',\n  js: 'unique'\n}];\nvar mapConstraintType = {\n  fromJS: {\n    toEnum: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(constraintTypeMap, 'js', 'enum')\n  },\n  fromEnum: {\n    toJS: Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"index\"])(constraintTypeMap, 'enum', 'js')\n  }\n};\n\nvar generatePatch = function generatePatch() {\n  var schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Object();\n  var newSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Object();\n  var tableNames = Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"unique\"])([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(schema)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(newSchema))));\n  var sql = tableNames.map(function (tableName) {\n    return patchTable(schema, newSchema, tableName);\n  }).sort(function (line) {\n    return !line.startsWith('CREATE TABLE');\n  }).filter(function (a) {\n    return a;\n  }).join(';\\n');\n  return sql;\n};\n\nvar patchTable = function patchTable(schema, newSchema, tableName) {\n  var _comparisonOf = comparisonOf(schema, newSchema),\n      added = _comparisonOf.added,\n      removed = _comparisonOf.removed;\n\n  if (added(tableName)) return createTable(tableName, newSchema[tableName]);\n  if (removed(tableName)) return dropTable(tableName);\n  var columnUpdates = patchColumns(schema[tableName], newSchema[tableName]);\n  if (columnUpdates) return \"ALTER TABLE \\\"\".concat(tableName, \"\\\" \").concat(columnUpdates);\n};\n\nvar patchColumns = function patchColumns(currentSchema, updatedSchema) {\n  var columnNames = Object(triframe_core__WEBPACK_IMPORTED_MODULE_6__[\"unique\"])([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(currentSchema)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(updatedSchema))));\n  return columnNames.map(function (columnName) {\n    return patchColumn(currentSchema, updatedSchema, columnName);\n  }).filter(function (a) {\n    return a.length;\n  }).join(', ');\n};\n\nvar patchColumn = function patchColumn(currentSchema, updatedSchema, columnName) {\n  var _comparisonOf2 = comparisonOf(currentSchema, updatedSchema),\n      added = _comparisonOf2.added,\n      removed = _comparisonOf2.removed;\n\n  if (added(columnName)) return addColumn(columnName, updatedSchema[columnName]);\n  if (removed(columnName)) return dropColumn(columnName);\n  if (updatedSchema[columnName].datatype === 'SERIAL') return [];\n  return patchColumnAttributes(columnName, currentSchema[columnName], updatedSchema[columnName]);\n};\n\nvar patchColumnAttributes = function patchColumnAttributes(columnName, currentSchema, updatedSchema) {\n  // if(columnName == 'id') return []\n  var _comparisonOf3 = comparisonOf(currentSchema, updatedSchema),\n      added = _comparisonOf3.added,\n      removed = _comparisonOf3.removed,\n      different = _comparisonOf3.different;\n\n  var commands = new Array();\n  if (different('datatype')) commands.push(setType(columnName, updatedSchema.datatype));\n  if (removed('defaultValue')) commands.push(dropColumnDefault(columnName));else if (different('defaultValue')) commands.push(setColumnDefault(columnName, updatedSchema.defaultValue));\n  commands = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(commands), [patchColumnConstraints(columnName, currentSchema.constraints, updatedSchema.constraints)]);\n  return commands.filter(function (a) {\n    return a.length;\n  }).join(', ');\n};\n\nvar patchColumnConstraints = function patchColumnConstraints(columnName, currentSchema, updatedSchema) {\n  var _comparisonOf4 = comparisonOf(currentSchema, updatedSchema),\n      added = _comparisonOf4.added,\n      removed = _comparisonOf4.removed,\n      different = _comparisonOf4.different;\n\n  var commands = [];\n  if (added('primaryKey')) commands.push(addPrimaryKeyConstraint(columnName));\n  if (removed('primaryKey')) commands.push(dropPrimaryKeyConstraint(columnName));\n  if (added('notNull')) commands.push(setNotNull(columnName));\n  if (removed('notNull')) commands.push(dropNotNull(columnName));\n  if (added('unique')) commands.push(addUniqueConstraint(columnName));\n  if (removed('unique')) commands.push(dropUniqueConstraint(columnName));\n  if (added('references')) commands.push(addReference(columnName, updatedSchema.references));\n  if (removed('references')) commands.push(dropReference(columnName));\n  if (different('references')) commands.push(\"\".concat(dropReference(columnName), \";\\n \").concat(addReference(columnName, updatedSchema.references)));\n  return commands;\n};\n\nvar comparisonOf = function comparisonOf() {\n  var thing1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var thing2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var removed = function removed(key) {\n    return thing1[key] && thing2[key] === undefined;\n  };\n\n  var added = function added(key) {\n    return thing1[key] === undefined && thing2[key];\n  };\n\n  var different = function different(key) {\n    if (thing2[key] instanceof Date) return thing1[key] != 'now()';\n    if (typeof thing2[key] == 'boolean') return thing1[key] === 'true' != thing2[key];\n    return thing1[key] != thing2[key];\n  };\n\n  return {\n    added: added,\n    removed: removed,\n    different: different\n  };\n};\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/migrate.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/parseTriQL.js":
/*!*******************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/parseTriQL.js ***!
  \*******************************************************************************/
/*! exports provided: parseTriQL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTriQL\", function() { return parseTriQL; });\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! triframe/core */ \"triframe/core\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(triframe_core__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\nvar SINGLE_QUOTES = {\n  opening: \"'\",\n  closing: \"'\",\n  endsTerm: true\n};\nvar DOUBLE_QUOTES = {\n  opening: '\"',\n  closing: '\"',\n  endsTerm: false\n};\nvar TEMPLATE_STRING = {\n  opening: \"`\",\n  closing: \"`\",\n  endsTerm: false\n};\nvar PARENTHESIS = {\n  opening: \"(\",\n  closing: \")\",\n  endsTerm: true\n};\nvar CURLY_BRACES = {\n  opening: \"{\",\n  closing: \"}\",\n  endsTerm: false\n};\nvar SQUARE_BRACKETS = {\n  opening: \"{\",\n  closing: \"}\",\n  endsTerm: false\n};\nvar symbolsByOpening = [SINGLE_QUOTES, DOUBLE_QUOTES, TEMPLATE_STRING, PARENTHESIS, CURLY_BRACES, SQUARE_BRACKETS].reduce(function (result, symbol) {\n  return _objectSpread({}, result, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, symbol.opening, symbol));\n}, {});\nvar postWhereKeywords = ['GROUP', 'HAVING', 'ORDER', 'OFFSET', 'FETCH'];\nvar nestedQueryMarker = Symbol();\nvar directivesMarker = Symbol();\nvar models, applicationMetadata;\n\nvar isKeyword = function isKeyword(term) {\n  return term.toUpperCase() === term || ['as'].includes(term);\n};\n\nvar isWhitespace = function isWhitespace(character) {\n  return /\\s/.test(character);\n};\n\nvar parseTriQL = function parseTriQL(triQl) {\n  // if(triQl.includes('UPDATE')) return { query: triQl, pipes: []} // <- Whe does update query get super skrewed up?\n  if (!models) models = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"index\"])(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"metadata\"], function (_, _ref) {\n    var className = _ref.className;\n    return className;\n  }, function (_, _ref2) {\n    var Class = _ref2.Class;\n    return Class;\n  });\n  if (!applicationMetadata) applicationMetadata = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"map\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"group\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"filter\"])(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"metadata\"], function (key, _ref3) {\n    var type = _ref3.type;\n    return type != undefined;\n  }), 'className'), function (_, metadata) {\n    return Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"index\"])(metadata, 'key');\n  });\n  var query = '';\n  var term = '';\n  var expectedClosingSymbols = [];\n\n  var opens = function opens(_char) {\n    return !closes(_char) && symbolsByOpening[_char];\n  };\n\n  var closes = function closes(_char2) {\n    var _expectedClosingSymbo;\n\n    return _char2 == ((_expectedClosingSymbo = expectedClosingSymbols[0]) === null || _expectedClosingSymbo === void 0 ? void 0 : _expectedClosingSymbo.closing);\n  };\n\n  var insideOf = function insideOf(symbol) {\n    return !!expectedClosingSymbols.find(function (expected) {\n      return expected.closing === symbol.closing;\n    });\n  };\n\n  var automatedGrouping = null;\n\n  var autoGroup = function autoGroup(grouping) {\n    return automatedGrouping = grouping;\n  };\n\n  var primaryRelation = null;\n\n  var definePrimaryRelation = function definePrimaryRelation(relation) {\n    return primaryRelation = relation;\n  };\n\n  var relationAliases = {};\n\n  var defineRelationAlias = function defineRelationAlias(relationName, aliasName) {\n    return relationAliases[aliasName] = relationName;\n  };\n\n  var events = [];\n\n  var registerEventListener = function registerEventListener(Class, event) {\n    return events.push({\n      Class: Class,\n      event: event\n    });\n  };\n\n  var append = function append(string) {\n    return query += string;\n  };\n\n  var endTerm = function endTerm(symbol) {\n    if (automatedGrouping !== null && postWhereKeywords.includes(term)) {\n      append(\" GROUP BY \".concat(automatedGrouping, \" \"));\n      automatedGrouping = null;\n    }\n\n    if (term) {\n      if (term === 'GROUP') automatedGrouping = null;\n\n      if (isKeyword(term)) {\n        append(term);\n      } else {\n        if (symbol !== SINGLE_QUOTES) {\n          term = term.replace(/[A-Z]/g, function (x) {\n            return \"_\".concat(x.toLowerCase());\n          });\n        }\n\n        append(term);\n\n        if (primaryRelation) {\n          var trimmedTerm = term.replace(/\"/g, '');\n          var relationName, propertyName;\n\n          if (trimmedTerm.includes('.')) {\n            var _trimmedTerm$split = trimmedTerm.split('.');\n\n            var _trimmedTerm$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_trimmedTerm$split, 2);\n\n            relationName = _trimmedTerm$split2[0];\n            propertyName = _trimmedTerm$split2[1];\n          } else {\n            relationName = primaryRelation;\n            propertyName = trimmedTerm;\n          }\n\n          if (relationAliases[relationName]) relationName = relationAliases[relationName];\n          var className = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(relationName);\n          var Model = models[className];\n          if (!Model) console.log('WARNING:', className);\n          registerEventListener(Model, \"*.changed.\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toCamelCase\"])(propertyName)));\n        }\n      }\n    }\n\n    if (automatedGrouping !== null && symbol === true) {\n      append(\" GROUP BY \".concat(automatedGrouping, \" \"));\n      automatedGrouping = null;\n    }\n\n    term = '';\n  };\n\n  var selectionContext = null;\n\n  for (var i = 0; i < triQl.length; i++) {\n    var symbol = void 0;\n    var character = triQl[i];\n\n    if (opens(character)) {\n      symbol = symbolsByOpening[character];\n      expectedClosingSymbols.unshift(symbol);\n    }\n\n    if (closes(character)) {\n      symbol = expectedClosingSymbols.shift();\n    }\n\n    if (insideOf(CURLY_BRACES) && !selectionContext) {\n      selectionContext = createSelectionContext({\n        insideOf: insideOf,\n        autoGroup: autoGroup,\n        registerEventListener: registerEventListener,\n        definePrimaryRelation: definePrimaryRelation,\n        defineRelationAlias: defineRelationAlias\n      });\n      continue;\n    }\n\n    if (insideOf(CURLY_BRACES)) {\n      selectionContext.parse(character);\n      continue;\n    }\n\n    if (!insideOf(CURLY_BRACES) && selectionContext) {\n      append(selectionContext.close());\n      selectionContext = null;\n      continue;\n    }\n\n    if (symbol && symbol.endsTerm) {\n      endTerm(symbol);\n      append(character);\n      continue;\n    }\n\n    if (isWhitespace(character)) {\n      endTerm();\n      append(character);\n      continue;\n    }\n\n    term += character;\n  }\n\n  endTerm(true);\n  return {\n    query: query,\n    events: events\n  };\n};\n\nvar createSelectionContext = function createSelectionContext(_ref4) {\n  var insideOf = _ref4.insideOf,\n      autoGroup = _ref4.autoGroup,\n      registerEventListener = _ref4.registerEventListener,\n      definePrimaryRelation = _ref4.definePrimaryRelation,\n      defineRelationAlias = _ref4.defineRelationAlias;\n  var selectionModel = {};\n  var pointer = selectionModel;\n  var property = '';\n  var parent = Symbol();\n  var directiveContext = null;\n\n  var defineSelectionEndpoint = function defineSelectionEndpoint() {\n    if (property.length) pointer[property] = pointer[property] || true;\n  };\n\n  var parse = function parse(character) {\n    if (insideOf(PARENTHESIS) && !directiveContext) {\n      directiveContext = createDirectiveContext({\n        insideOf: insideOf\n      });\n      return;\n    }\n\n    if (insideOf(PARENTHESIS)) {\n      directiveContext.parse(character);\n      return;\n    }\n\n    if (!insideOf(PARENTHESIS) && directiveContext) {\n      var directives = directiveContext.close();\n      pointer[property] = {};\n      Object.defineProperty(pointer[property], directivesMarker, {\n        enumerable: false,\n        value: directives\n      });\n      directiveContext = null;\n      return;\n    }\n\n    if (isWhitespace(character)) {\n      return;\n    }\n\n    if (character == '{') {\n      pointer[property] = pointer[property] || {};\n      pointer[property][parent] = pointer;\n      pointer = pointer[property];\n      property = '';\n      return;\n    }\n\n    if (character == '}') {\n      defineSelectionEndpoint();\n      pointer = pointer[parent];\n      property = '';\n      return;\n    }\n\n    if (character == ',') {\n      defineSelectionEndpoint();\n      property = '';\n      return;\n    }\n\n    property += character;\n  };\n\n  var close = function close() {\n    defineSelectionEndpoint();\n    var keys = Object.keys(selectionModel);\n\n    var _keys = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(keys, 1),\n        key = _keys[0];\n\n    if (pointer !== selectionModel) throw SyntaxError('Unexpected End of Input for Query');\n    if (keys.length > 1) throw Error(\"Cannot select \".concat(keys.join(', '), \" simultaneously\"));\n    definePrimaryRelation(key);\n    autoGroup(\"\".concat(key, \".id\"));\n    return sqlFor(selectionModel, registerEventListener, defineRelationAlias);\n  };\n\n  return {\n    parse: parse,\n    close: close\n  };\n};\n\nvar createDirectiveContext = function createDirectiveContext(_ref5) {\n  var insideOf = _ref5.insideOf;\n  var directives = {};\n  var directiveKey = \"\";\n  var directiveValue = \"\";\n  var directiveContext = \"key\";\n\n  var defineDirective = function defineDirective() {\n    directives[directiveKey] = directiveValue;\n    directiveKey = \"\";\n    directiveValue = \"\";\n  };\n\n  var parse = function parse(character) {\n    if (isWhitespace(character) && !insideOf(SINGLE_QUOTES) && !insideOf(DOUBLE_QUOTES)) {\n      return;\n    }\n\n    if (character === ':') {\n      directiveContext = \"value\";\n      return;\n    }\n\n    if (character === ',') {\n      defineDirective();\n      directiveContext = \"key\";\n      return;\n    }\n\n    if (directiveContext === \"key\") {\n      directiveKey += character;\n    }\n\n    if (directiveContext === \"value\") {\n      directiveValue += character;\n    }\n\n    return;\n  };\n\n  var close = function close() {\n    defineDirective();\n    return directives;\n  };\n\n  return {\n    parse: parse,\n    close: close\n  };\n};\n\nfunction sqlFor(selectionModel) {\n  var registerEventListener = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return null;\n  };\n  var defineRelationAlias = arguments.length > 2 ? arguments[2] : undefined;\n\n  var _Object$keys = Object.keys(selectionModel),\n      _Object$keys2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$keys, 1),\n      key = _Object$keys2[0];\n\n  var className = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(key);\n  var properties = selectionModel[key]; // TODO: ~~Parse the where clause~~ scratch that, move the residual parser here, get ALL properties involved \n  //          in the query while transforming them to snake case\n  //          Maybe parse the where clause after for the id, maybe don't, idk\n  // Register event listeners for the change of columns in the where clause or order by clause\n  // Optimize existing event listeners by checking for the id in the where clause\n\n  var suffix = '';\n  if (!defineRelationAlias) suffix = \" GROUP BY \".concat(key, \".id\");\n  var selectClause = buildSelectClause(className, properties, {\n    registerEventListener: registerEventListener,\n    defineRelationAlias: defineRelationAlias\n  }); // <-- `properties` WILL be mutated to account for virtual columns\n\n  var fromClause = buildJoinClause(className, properties, {\n    registerEventListener: registerEventListener\n  });\n  var Class = models[className];\n  registerEventListener(Class, \"deleted.*\");\n  registerEventListener(Class, \"created.*\"); // let [remaining1, remaining2 = \"\"] = remaining.split('ORDER BY')\n  // if (remaining2) remaining2 = `ORDER BY ${remaining2}`\n\n  return \"\".concat(selectClause, \" FROM \").concat(key, \" \").concat(fromClause).concat(suffix);\n}\n\nfunction buildSelectClause(className, properties) {\n  var _ref6 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref6$label = _ref6.label,\n      label = _ref6$label === void 0 ? false : _ref6$label,\n      _ref6$alias = _ref6.alias,\n      alias = _ref6$alias === void 0 ? false : _ref6$alias,\n      _ref6$nested = _ref6.nested,\n      nested = _ref6$nested === void 0 ? false : _ref6$nested,\n      _ref6$registerEventLi = _ref6.registerEventListener,\n      registerEventListener = _ref6$registerEventLi === void 0 ? function () {\n    return null;\n  } : _ref6$registerEventLi,\n      _ref6$defineRelationA = _ref6.defineRelationAlias,\n      defineRelationAlias = _ref6$defineRelationA === void 0 ? function () {\n    return null;\n  } : _ref6$defineRelationA;\n\n  var columns = [];\n  var metadata = applicationMetadata[className];\n  var relationName = alias || Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(className);\n  columns.push(label ? \"'id', \\\"\".concat(relationName, \"\\\".id\") : \"\\\"\".concat(relationName, \"\\\".id\"), label ? \"'__class__', '\".concat(className, \"'\") : \"'\".concat(className, \"' as __class__\"));\n  Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"each\"])(properties, function (key, value) {\n    if (!metadata[key]) throw Error(\"Cannot query for undefined property \".concat(className, \"#\").concat(key));\n    var type = metadata[key].type;\n    var directives = value[directivesMarker];\n    var endpoint = typeof value === 'boolean' || Object.keys(value).length === 0;\n\n    switch (type) {\n      case 'persisted':\n        if (!endpoint) throw Error(\"Cannot select subfields of property \".concat(className, \"#\").concat(key));\n        if (directives) throw Error(\"Cannot provide directives for persisted property \".concat(className, \"#\").concat(key));\n        columns.push(label ? \"'\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key), \"', \\\"\").concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)) : \"\\\"\".concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)));\n        break;\n\n      case 'relationship':\n        if (endpoint) throw Error(\"Must select subfields for relation \".concat(className, \"#\").concat(key));\n        var _metadata$key = metadata[key],\n            options = _metadata$key.options,\n            joinType = _metadata$key.joinType;\n        var nextRelationName = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(options.a || options.an || options.of || key);\n        defineRelationAlias(nextRelationName, key);\n        var nextRelation;\n\n        switch (joinType) {\n          case 'belongsTo':\n            nextRelation = \"(array_agg(json_build_object(\".concat(buildSelectClause(nextRelationName, value, {\n              label: true,\n              alias: Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key),\n              nested: true,\n              registerEventListener: registerEventListener,\n              defineRelationAlias: defineRelationAlias\n            }), \")))[1]\");\n            break;\n\n          case 'hasOne':\n            nextRelation = \"(array_agg(json_build_object(\".concat(buildSelectClause(nextRelationName, value, {\n              label: true,\n              alias: Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key),\n              nested: true,\n              registerEventListener: registerEventListener,\n              defineRelationAlias: defineRelationAlias\n            }), \")))[1]\");\n            break;\n\n          case 'hasMany':\n            var orderClause = '';\n\n            if (directives && directives.orderBy) {\n              var orderBy = directives.orderBy,\n                  orderDirection = directives.orderDirection;\n              var NextClass = models[nextRelationName];\n              registerEventListener(NextClass, \"*.changed.\".concat(orderBy));\n              orderClause = \"ORDER BY \".concat(orderBy, \" \").concat(orderDirection || 'ASC');\n            }\n\n            nextRelation = \"array_agg(json_build_object(\".concat(buildSelectClause(nextRelationName, value, {\n              label: true,\n              alias: Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key),\n              nested: true,\n              registerEventListener: registerEventListener,\n              defineRelationAlias: defineRelationAlias\n            }), \")\").concat(orderClause, \")\");\n            break;\n        }\n\n        if (!nested) {\n          columns.push(label ? \"'\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key), \"', \").concat(nextRelation) : \"\".concat(nextRelation, \" as \").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)));\n        } else {\n          Object.defineProperty(properties, nestedQueryMarker, {\n            enumerable: false,\n            value: true\n          });\n          columns.push(label ? \"'\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key), \"', \\\"\").concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)) : Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key));\n        }\n\n        break;\n\n      case 'virtual':\n        if (!endpoint) throw Error(\"Cannot select subfields of property \".concat(className, \"#\").concat(key));\n        var _metadata$key2 = metadata[key],\n            definition = _metadata$key2.definition,\n            defaultValue = _metadata$key2.defaultValue;\n        var testProperties = {};\n        definition(buildModel(className, testProperties, {\n          nested: nested,\n          alias: alias\n        }), directives || {});\n        var includesVirtualFields = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"find\"])(testProperties, function (key) {\n          var _applicationMetadata$;\n\n          return ((_applicationMetadata$ = applicationMetadata[className][key]) === null || _applicationMetadata$ === void 0 ? void 0 : _applicationMetadata$.type) === 'relationship';\n        });\n\n        if (!nested || !includesVirtualFields) {\n          // TODO \n          // Listen for when testProperties change\n          // let CurrentClass = models[className]\n          // each(testProperties, (key, value) => {\n          //     registerEventListener(CurrentClass, `*.changed.${key}`)\n          // })\n          var columnDefinition = definition(buildModel(className, properties, {\n            nested: nested,\n            alias: alias\n          }, registerEventListener), directives || {});\n          if (defaultValue !== undefined) columnDefinition = \"COALESCE(\".concat(columnDefinition, \", \").concat(format(defaultValue), \")\");\n          columns.push(label ? \"'\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key), \"', \").concat(columnDefinition) : \"\".concat(columnDefinition, \" as \").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)));\n        } else {\n          Object.defineProperty(properties, nestedQueryMarker, {\n            enumerable: false,\n            value: true\n          });\n          columns.push(label ? \"'\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key), \"', \\\"\").concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)) : Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key));\n        }\n\n        break;\n    }\n  });\n  return columns.join(', ');\n}\n\nfunction buildJoinClause(className, properties) {\n  var _ref7 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref7$label = _ref7.label,\n      label = _ref7$label === void 0 ? false : _ref7$label,\n      _ref7$alias = _ref7.alias,\n      alias = _ref7$alias === void 0 ? false : _ref7$alias,\n      _ref7$nested = _ref7.nested,\n      nested = _ref7$nested === void 0 ? false : _ref7$nested,\n      _ref7$registerEventLi = _ref7.registerEventListener,\n      registerEventListener = _ref7$registerEventLi === void 0 ? function () {\n    return null;\n  } : _ref7$registerEventLi;\n\n  var joins = [];\n\n  var addJoin = function addJoin(join) {\n    if (!joins.includes(join)) joins.push(join);\n  };\n\n  Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"each\"])(properties, function (key, value) {\n    var name = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key);\n    var joinType;\n    var metadata = applicationMetadata[className];\n    var _metadata$key3 = metadata[key],\n        type = _metadata$key3.type,\n        options = _metadata$key3.options;\n    var endpoint = typeof value === 'boolean';\n    var currentClassName = className;\n    var currentAlias = alias;\n\n    if (type === 'relationship') {\n      if (endpoint) throw Error(\"Must select subfields for relation \".concat(className, \"#\").concat(key));\n\n      if (options.through) {\n        var path = {};\n        options.through(buildModel(className, path));\n\n        while (true) {\n          ;\n\n          var _Object$keys3 = Object.keys(path);\n\n          var _Object$keys4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$keys3, 1);\n\n          key = _Object$keys4[0];\n          if (isEmpty(path[key])) break;\n          var _metadata$key4 = metadata[key],\n              _options = _metadata$key4.options,\n              _joinType = _metadata$key4.joinType;\n          addJoin(buildJoinClause(currentClassName, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, key, {}), {\n            registerEventListener: registerEventListener\n          }));\n          path = path[key];\n          currentClassName = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(_options.a || _options.an || _options.of || key);\n          metadata = applicationMetadata[currentClassName];\n          currentAlias = key;\n        }\n      }\n\n      ;\n      var _metadata$key5 = metadata[key];\n      options = _metadata$key5.options;\n      joinType = _metadata$key5.joinType;\n      var relationName = currentAlias || Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(currentClassName);\n      var nextRelationName = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(options.a || options.an || options.of || key);\n      var myAliasName = options.as || currentClassName;\n      var CurrentClass = models[currentClassName];\n      var NextClass = models[nextRelationName];\n      registerEventListener(NextClass, \"created.*\");\n      registerEventListener(NextClass, \"deleted.*\");\n\n      switch (joinType) {\n        case 'belongsTo':\n          // TODO\n          // maybe? (save a function with this event\n          // after the query returns, create the event listeners using against the id before emiting\n          // to work on nested relations, this would have to follow the nesting path in the resolver)\n          registerEventListener(CurrentClass, \"*.changed.\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toCamelCase\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(key)))); //value[toForeignKeyName(key)] = true\n\n          addJoin(!value[nestedQueryMarker] ? \"LEFT JOIN \".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), \" as \").concat(name, \" ON \").concat(relationName, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(key), \" = \").concat(name, \".id\") : \"LEFT JOIN (\\n                                        SELECT \".concat(sqlFor(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), value)), \"\\n                                    ) as \").concat(name, \" ON \").concat(relationName, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(key), \" = \").concat(name, \".id\"));\n          break;\n\n        case 'hasOne':\n          // TODO\n          // listen to when any one from the next class changes their foreign key\n          // if their foreign key was changed to me or from me, emit\n          registerEventListener(NextClass, \"*.changed.\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toCamelCase\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName))));\n          value[Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName)] = true;\n          addJoin(!value[nestedQueryMarker] ? \"LEFT JOIN \".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), \" as \").concat(name, \" ON \").concat(name, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName), \" = \").concat(relationName, \".id\") : \"LEFT JOIN (\\n                                    SELECT \".concat(sqlFor(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), value)), \"\\n                                ) as \").concat(name, \" ON \").concat(name, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName), \" = \").concat(relationName, \".id\"));\n          break;\n\n        case 'hasMany':\n          // TODO\n          // listen to when any one from the next class changes their foreign key\n          // if their foreign key was changed to me or from me, emit\n          registerEventListener(NextClass, \"*.changed.\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toCamelCase\"])(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName))));\n          value[Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName)] = true;\n          addJoin(!value[nestedQueryMarker] ? \"LEFT JOIN \".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), \" as \").concat(name, \" ON \").concat(name, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName), \" = \").concat(relationName, \".id\") : \"LEFT JOIN (\\n                                    SELECT \".concat(sqlFor(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(nextRelationName), value)), \"\\n                                ) as \").concat(name, \" ON \").concat(name, \".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toForeignKeyName\"])(myAliasName), \" = \").concat(relationName, \".id\"));\n          break;\n      }\n    }\n  });\n  return joins.join(' ');\n}\n\nfunction buildModel(className, properties) {\n  var _ref8 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      nested = _ref8.nested,\n      alias = _ref8.alias;\n\n  var registerEventListener = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {\n    return null;\n  };\n  var relationName = alias || Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toTableName\"])(className);\n  var model = {\n    toString: function toString() {\n      return relationName;\n    }\n  };\n  var metadata = applicationMetadata[className];\n  var Class = models[className];\n  Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"each\"])(metadata, function (key, value) {\n    Object.defineProperty(model, key, {\n      get: function get() {\n        var type = metadata[key].type;\n\n        switch (type) {\n          case 'persisted':\n            registerEventListener(Class, \"*.changed.\".concat(key));\n            properties[key] = properties[key] || true;\n            return \"\\\"\".concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key));\n            break;\n\n          case 'relationship':\n            var options = metadata[key].options;\n            var nextRelationName = Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toClassName\"])(options.a || options.an || options.of || key);\n            properties[key] = properties[key] || {};\n            return buildModel(nextRelationName, properties[key], {\n              nested: true,\n              alias: Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key)\n            }, registerEventListener);\n            break;\n\n          case 'virtual':\n            var directiveAcceptor = function directiveAcceptor() {\n              var directives = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n              var _metadata$key6 = metadata[key],\n                  definition = _metadata$key6.definition,\n                  defaultValue = _metadata$key6.defaultValue;\n\n              if (!nested) {\n                return defaultValue !== undefined ? \"COALESCE(\".concat(definition(model, directives), \", \").concat(defaultValue, \")\") : definition(model, directives);\n              } else {\n                definition(model, directives);\n                return \"\\\"\".concat(relationName, \"\\\".\").concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_3__[\"toUnderscored\"])(key));\n              }\n            };\n\n            directiveAcceptor.toString = directiveAcceptor;\n            return directiveAcceptor;\n            break;\n        }\n      }\n    });\n  });\n  return model;\n}\n\nvar format = function format(defaultValue) {\n  if (defaultValue === null) {\n    return \"NULL\";\n  }\n\n  if (typeof defaultValue == 'number' || typeof defaultValue == 'boolean') {\n    return defaultValue;\n  }\n\n  if (typeof defaultValue == 'string') {\n    return \"'\".concat(defaultValue, \"'\");\n  }\n\n  if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(defaultValue) == 'object' && defaultValue.__proto__ == Object.prototype\n  /* || defaultValue instanceof List */\n  ) {\n    return \"'\".concat(JSON.stringify(defaultValue), \"'::json\");\n  }\n\n  if (defaultValue instanceof Date) {\n    return \"NOW()\";\n  }\n\n  throw Error(\"Variable type cannot be coalesced for sql query: \".concat(defaultValue));\n};\n\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/parseTriQL.js?");

/***/ }),

/***/ "../../../Documents/development/triframe/src/scribe/sql.js":
/*!************************************************************************!*\
  !*** C:/Users/Joshua/Documents/development/triframe/src/scribe/sql.js ***!
  \************************************************************************/
/*! exports provided: literal, isLiteral, keys, values, pairs, reduce, all, any, sql */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"literal\", function() { return literal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLiteral\", function() { return isLiteral; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"keys\", function() { return keys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"values\", function() { return values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pairs\", function() { return pairs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reduce\", function() { return reduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"all\", function() { return all; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"any\", function() { return any; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sql\", function() { return sql; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../../Documents/development/triframe/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! triframe/core */ \"triframe/core\");\n/* harmony import */ var triframe_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(triframe_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./database */ \"../../../Documents/development/triframe/src/scribe/database.js\");\n/* harmony import */ var _parseTriQL__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parseTriQL */ \"../../../Documents/development/triframe/src/scribe/parseTriQL.js\");\n\n\nvar _marked = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(queryProcess);\n\n\n\n\nvar literal = function literal(x) {\n  return {\n    isLiteral: true,\n    value: x\n  };\n};\nvar isLiteral = function isLiteral(x) {\n  return x && x.isLiteral;\n};\n\nvar literalValue = function literalValue(x, escape) {\n  return typeof x.value === 'function' ? x.value(escape) : x.value;\n};\n\nvar keys = function keys(x) {\n  return {\n    join: function join(sep) {\n      return literal(Object.keys(x).map(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"toUnderscored\"]).join(sep));\n    }\n  };\n};\nvar values = function values(x) {\n  return {\n    join: function join(sep) {\n      return literal(function (escape) {\n        return Object.values(x).map(escape).join(sep);\n      });\n    }\n  };\n};\nvar pairs = function pairs(x) {\n  var seperator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (value) {\n    return value === null ? ' IS NULL' : \" = \".concat(escape(value));\n  };\n  var seperate;\n  if (typeof seperator !== 'function') seperate = function seperate(value) {\n    return \" \".concat(seperator, \" \").concat(escape(value));\n  };else seperate = seperator;\n  return {\n    join: function join(sep) {\n      return literal(function (escape) {\n        return Object.keys(x).map(function (key) {\n          return \"\".concat(Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"toUnderscored\"])(key)).concat(seperate(x[key]));\n        }).join(sep);\n      });\n    }\n  };\n};\n\nvar createReducer = function createReducer(seperator) {\n  return function (x, reducer) {\n    return literal(function (escape) {\n      var result;\n      Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"each\"])(x, function (key, value) {\n        return result = result === undefined ? reducer(Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"toUnderscored\"])(key), {\n          toString: function toString() {\n            return escape(value);\n          }\n        }, {\n          rawValue: value,\n          escape: escape\n        }) : \"\".concat(result).concat(seperator).concat(reducer(Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"toUnderscored\"])(key), {\n          toString: function toString() {\n            return escape(value);\n          }\n        }, {\n          rawValue: value,\n          escape: escape\n        }));\n      });\n      return result;\n    });\n  };\n};\n\nvar reduce = createReducer(', ');\nvar all = createReducer(' AND ');\nvar any = createReducer(' OR ');\nvar models;\nvar defaultOptions = {\n  disableLogging: false\n};\nvar sql = function sql() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(args[0])) {\n    return runQuery.apply(void 0, [defaultOptions].concat(args));\n  } else {\n    var options = args[0];\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return runQuery.apply(void 0, [options].concat(args));\n    };\n  }\n};\n\nvar runQuery = function runQuery(options, queryFragments) {\n  for (var _len3 = arguments.length, variables = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    variables[_key3 - 2] = arguments[_key3];\n  }\n\n  var escaped = [];\n\n  var escape = function escape(x) {\n    escaped.push(x);\n    return \"$\".concat(escaped.length);\n  };\n\n  var triQL = queryFragments.reduce(function (triQL, fragment, index) {\n    return index === 0 ? \"\".concat(fragment) : isLiteral(variables[index - 1]) ? \"\".concat(triQL).concat(literalValue(variables[index - 1], escape)).concat(fragment) : \"\".concat(triQL).concat(escape(variables[index - 1])).concat(fragment);\n  }, '');\n\n  var _parseTriQL = Object(_parseTriQL__WEBPACK_IMPORTED_MODULE_3__[\"parseTriQL\"])(triQL),\n      query = _parseTriQL.query,\n      events = _parseTriQL.events;\n\n  return new triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"Pipe\"](queryProcess, options, query, escaped, events);\n};\n\nfunction queryProcess(emit, options, triQL, escaped, events) {\n  var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _step$value, Class, event, response;\n\n  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function queryProcess$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!options.disableLogging) console.log(triQL, escaped, events.map(function (_ref) {\n            var Class = _ref.Class,\n                event = _ref.event;\n            return \"\".concat(Class.name, \".\").concat(event);\n          }));\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context.prev = 4;\n          _iterator = events[Symbol.iterator]();\n\n        case 6:\n          if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n            _context.next = 13;\n            break;\n          }\n\n          _step$value = _step.value, Class = _step$value.Class, event = _step$value.event;\n          _context.next = 10;\n          return Class.nowAndOn(event);\n\n        case 10:\n          _iteratorNormalCompletion = true;\n          _context.next = 6;\n          break;\n\n        case 13:\n          _context.next = 19;\n          break;\n\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context.t0;\n\n        case 19:\n          _context.prev = 19;\n          _context.prev = 20;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 22:\n          _context.prev = 22;\n\n          if (!_didIteratorError) {\n            _context.next = 25;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 25:\n          return _context.finish(22);\n\n        case 26:\n          return _context.finish(19);\n\n        case 27:\n          _context.next = 29;\n          return _database__WEBPACK_IMPORTED_MODULE_2__[\"database\"].query(triQL, escaped);\n\n        case 29:\n          response = _context.sent;\n          if (!models) models = Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"index\"])(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"metadata\"], function (_, _ref2) {\n            var className = _ref2.className;\n            return className;\n          }, function (_, _ref3) {\n            var Class = _ref3.Class;\n            return Class;\n          });\n          return _context.abrupt(\"return\", Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"deepMap\"])(response.rows, function (value) {\n            if (value && value.__class__) {\n              if (value.id === null) return null;\n              var Model = models[value.__class__];\n              var tempInstance = new Model();\n\n              var camelCasedKeys = function camelCasedKeys(key) {\n                return Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"toCamelCase\"])(key);\n              };\n\n              var decodedValues = function decodedValues(key, value) {\n                var _getMetadata = Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"getMetadata\"])(tempInstance, key),\n                    sqlDecode = _getMetadata.sqlDecode;\n\n                if (sqlDecode) return sqlDecode(value);else return value;\n              };\n\n              return new Model(Object(triframe_core__WEBPACK_IMPORTED_MODULE_1__[\"index\"])(value, camelCasedKeys, decodedValues));\n            }\n\n            if (Array.isArray(value)) {\n              return value.filter(function (value) {\n                return value !== null && value.id !== null;\n              });\n            }\n\n            return value;\n          }));\n\n        case 32:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[4, 15, 19, 27], [20,, 22, 26]]);\n}\n\n//# sourceURL=webpack:///C:/Users/Joshua/Documents/development/triframe/src/scribe/sql.js?");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"pg\");\n\n//# sourceURL=webpack:///external_%22pg%22?");

/***/ }),

/***/ "regenerator-runtime":
/*!**************************************!*\
  !*** external "regenerator-runtime" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"regenerator-runtime\");\n\n//# sourceURL=webpack:///external_%22regenerator-runtime%22?");

/***/ }),

/***/ "triframe/arbiter":
/*!***********************************!*\
  !*** external "triframe/arbiter" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"triframe/arbiter\");\n\n//# sourceURL=webpack:///external_%22triframe/arbiter%22?");

/***/ }),

/***/ "triframe/core":
/*!********************************!*\
  !*** external "triframe/core" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"triframe/core\");\n\n//# sourceURL=webpack:///external_%22triframe/core%22?");

/***/ })

/******/ });